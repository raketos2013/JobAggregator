<div class="resume-container">
  <mat-card class="resume-card">
    <mat-card-header>
      <div class="header-content">
        <div class="avatar-container" *ngIf="resume()?.photo">
          <img [src]="resume().photo" alt="Фото" class="avatar">
        </div>
        <div class="header-text">
          <!-- <mat-card-title>Резюме #{{ resume().id }}</mat-card-title> -->
          <mat-card-subtitle>
            <span class="meta-info">
              <span class="age-gender">
                {{ resume().age }} лет, {{ getGenderString(resume().gender) }}
              </span>
              <span class="views">
                <mat-icon>visibility</mat-icon>
                {{ resume().countViews || 0 }} просмотров
              </span>
              <span class="created">
                <mat-icon>calendar_today</mat-icon>
                {{ resume().created | date:'dd.MM.yyyy' }}
              </span>
            </span>
          </mat-card-subtitle>
        </div>
      </div>
    </mat-card-header>

    <mat-divider></mat-divider>

    <mat-card-content>
      <!-- Опыт работы -->
      <div class="section" *ngIf="resume()?.experience">
        <h3><mat-icon>work</mat-icon> Опыт работы</h3>
        <p class="pre-formatted">{{ resume().experience }}</p>
      </div>

      <!-- Образование -->
      <div class="section" *ngIf="resume()?.education">
        <h3><mat-icon>school</mat-icon> Образование</h3>
        <p class="pre-formatted">{{ resume().education }}</p>
      </div>

      <!-- Ссылки -->
      <div class="section" *ngIf="resume()?.links">
        <h3><mat-icon>link</mat-icon> Ссылки</h3>
        <div class="links-container">
          <a *ngFor="let link of parseLinks(resume().links)" 
             [href]="link" 
             target="_blank" 
             class="link-item">
            <mat-icon>open_in_new</mat-icon>
            {{ link }}
          </a>
        </div>
      </div>

      <!-- Языки -->
      <div class="section" *ngIf="resume()?.languages?.length">
        <h3><mat-icon>language</mat-icon> Языки</h3>
        <mat-chip-listbox>
          <mat-chip-option *ngFor="let lang of resume().languages" selected>
            {{ lang.name }} ({{ lang.code }})
          </mat-chip-option>
        </mat-chip-listbox>
      </div>

      <!-- Навыки -->
      <div class="section" *ngIf="resume()?.skills?.length">
        <h3><mat-icon>star</mat-icon> Навыки</h3>
        <mat-chip-listbox>
          <mat-chip-option *ngFor="let skill of resume().skills" selected>
            {{ skill.name }}
          </mat-chip-option>
        </mat-chip-listbox>
      </div>

      <!-- Приоритет -->
      <!-- <div class="section priority-section" *ngIf="resume()?.priority">
        <mat-icon>priority_high</mat-icon>
        <span>Приоритет: {{ resume.priority }}/10</span>
      </div> -->
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button color="primary" (click)="contactUser()">
        <mat-icon>mail</mat-icon> Связаться
      </button>
    </mat-card-actions>
  </mat-card>
</div>