<div class="form-container">
  <h1 class="page-title">Создать организацию</h1>
  
  <mat-card class="form-card">
    <mat-card-content>
      <form [formGroup]="organizationForm" (ngSubmit)="onSubmit()">
        <!-- Основная информация -->
        <div class="form-section">
          <mat-form-field appearance="outline">
            <mat-label>Название организации</mat-label>
            <input matInput formControlName="name" required>
            <mat-error *ngIf="organizationForm.get('name')?.hasError('required')">
              Обязательное поле
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Описание</mat-label>
            <textarea matInput formControlName="description" rows="4" required></textarea>
          </mat-form-field>
        </div>

        <!-- Контактная информация -->
        <div class="row-fields">
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" required>
            <mat-error *ngIf="organizationForm.get('email')?.hasError('email')">
              Введите корректный email
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Телефон</mat-label>
            <input matInput formControlName="phoneNumber" placeholder="+XXXXXXXXXXX">
          </mat-form-field>
        </div>

        <div class="row-fields">
          <mat-form-field appearance="outline">
            <mat-label>Вебсайт</mat-label>
            <input matInput formControlName="website" placeholder="https://example.com">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Адрес</mat-label>
            <input matInput formControlName="address">
          </mat-form-field>
        </div>

        <!-- Сферы деятельности -->
        <h3>Сферы деятельности</h3>
        <mat-form-field appearance="outline" class="skills-field">
          <mat-chip-grid #chipGrid>
            <mat-chip-row *ngFor="let activity of activities.controls; let i = index" 
                         [removable]="true" (removed)="removeActivity(i)">
              {{ activity.get('name')?.value }}
              <button matChipRemove>
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip-row>
            <input [formControl]="skillInputControl"
                  [matChipInputFor]="chipGrid"
                  [matChipInputSeparatorKeyCodes]="[13, 188]"
                  (matChipInputTokenEnd)="addActivity($event)"
                  placeholder="Добавьте сферу деятельности...">
          </mat-chip-grid>
        </mat-form-field>

        <div class="actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="organizationForm.invalid">
            Создать организацию
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>